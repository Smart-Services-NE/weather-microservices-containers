# Docker Compose override for debugging
# Usage: docker-compose -f docker-compose.yml -f docker-compose.debug.yml up -d notification-api

services:
  notification-api:
    build:
      dockerfile: NotificationService/Clients/WebApi/Dockerfile.debug
    volumes:
      # Mount source code for hot reload and source mapping
      - ./NotificationService:/src/NotificationService:ro
    environment:
      # Enable detailed logging for debugging
      - Logging__LogLevel__Default=Debug
      - Logging__LogLevel__NotificationService=Debug
      - DOTNET_ENVIRONMENT=Development
    # Keep container running even if app crashes
    stdin_open: true
    tty: true
